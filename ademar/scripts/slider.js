var n=class{constructor(t,e={}){this.container=document.querySelector(t),this.container&&(this.options={sliderSelector:`${t}__slider`,listSelector:`${t}__list`,itemSelector:`${t}__item`,prevButtonSelector:`${t}__nav--prev`,nextButtonSelector:`${t}__nav--next`,dotsContainerSelector:`${t}__dots`,dotClass:`${t.replace(".","")}__dot`,dotActiveClass:`${t.replace(".","")}__dot--active`,itemsPerPage:{mobile:1,tablet:2,desktop:3},breakpoints:{tablet:768,desktop:1200},gap:{mobile:30,tablet:40},enableKeyboard:!0,enableTouch:!0,...e},this.slider=this.container.querySelector(this.options.sliderSelector),this.list=this.container.querySelector(this.options.listSelector),this.items=this.container.querySelectorAll(this.options.itemSelector),this.prevButton=this.container.querySelector(this.options.prevButtonSelector),this.nextButton=this.container.querySelector(this.options.nextButtonSelector),this.dotsContainer=this.container.querySelector(this.options.dotsContainerSelector),!(!this.slider||!this.list||this.items.length===0)&&(this.currentIndex=0,this.itemsPerPage=this.options.itemsPerPage.desktop,this.totalPages=0,this.init()))}init(){this.updateItemsPerPage(),this.setupEventListeners()}updateNavButtons(){this.prevButton&&this.nextButton&&(this.prevButton.disabled=this.currentIndex===0,this.nextButton.disabled=this.currentIndex>=this.totalPages-1,this.prevButton.style.opacity=this.currentIndex===0?"0.3":"1",this.nextButton.style.opacity=this.currentIndex>=this.totalPages-1?"0.3":"1",this.prevButton.style.cursor=this.currentIndex===0?"not-allowed":"pointer",this.nextButton.style.cursor=this.currentIndex>=this.totalPages-1?"not-allowed":"pointer")}updateDots(){if(!this.dotsContainer)return;this.dotsContainer.querySelectorAll(`.${this.options.dotClass}`).forEach((e,s)=>{s===this.currentIndex?e.classList.add(this.options.dotActiveClass):e.classList.remove(this.options.dotActiveClass)})}updateSlider(){let t=this.items[0].offsetWidth,e=window.innerWidth>=this.options.breakpoints.tablet?this.options.gap.tablet:this.options.gap.mobile,s=-(this.currentIndex*this.itemsPerPage*t+this.currentIndex*this.itemsPerPage*e);this.list.style.transform=`translateX(${s}px)`,this.updateNavButtons(),this.updateDots()}createDots(){if(this.dotsContainer){this.dotsContainer.innerHTML="";for(let t=0;t<this.totalPages;t++){let e=document.createElement("button");e.classList.add(this.options.dotClass),e.setAttribute("aria-label",`\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u043A \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0435 ${t+1}`),e.addEventListener("click",()=>{this.currentIndex=t,this.updateSlider()}),this.dotsContainer.appendChild(e)}this.updateDots()}}updateItemsPerPage(){let t=window.innerWidth;t<this.options.breakpoints.tablet?this.itemsPerPage=this.options.itemsPerPage.mobile:t<this.options.breakpoints.desktop?this.itemsPerPage=this.options.itemsPerPage.tablet:this.itemsPerPage=this.options.itemsPerPage.desktop,this.totalPages=Math.ceil(this.items.length/this.itemsPerPage),this.currentIndex>=this.totalPages&&(this.currentIndex=this.totalPages-1),this.updateSlider(),this.createDots()}nextSlide(){this.currentIndex<this.totalPages-1&&(this.currentIndex++,this.updateSlider())}prevSlide(){this.currentIndex>0&&(this.currentIndex--,this.updateSlider())}setupEventListeners(){if(this.nextButton&&this.nextButton.addEventListener("click",()=>this.nextSlide()),this.prevButton&&this.prevButton.addEventListener("click",()=>this.prevSlide()),this.options.enableTouch){let e=0,s=0,o=()=>{let r=e-s;Math.abs(r)>50&&(r>0?this.nextSlide():this.prevSlide())};this.slider.addEventListener("touchstart",i=>{e=i.changedTouches[0].screenX},{passive:!0}),this.slider.addEventListener("touchend",i=>{s=i.changedTouches[0].screenX,o()},{passive:!0})}this.options.enableKeyboard&&document.addEventListener("keydown",e=>{let s=this.slider.getBoundingClientRect();s.top<window.innerHeight&&s.bottom>0&&(e.key==="ArrowLeft"?this.prevSlide():e.key==="ArrowRight"&&this.nextSlide())});let t;window.addEventListener("resize",()=>{clearTimeout(t),t=setTimeout(()=>{this.updateItemsPerPage()},250)})}},a=n;export{a as default};
