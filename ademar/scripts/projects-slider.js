var o=class{constructor(t,e={}){this.container=document.querySelector(t),this.container&&(this.options={sliderSelector:`${t}__slider`,listSelector:`${t}__list`,itemSelector:`${t}__item`,prevButtonSelector:`${t}__nav--prev`,nextButtonSelector:`${t}__nav--next`,dotsContainerSelector:`${t}__dots`,dotClass:`${t.replace(".","")}__dot`,dotActiveClass:`${t.replace(".","")}__dot--active`,itemsPerPage:{mobile:1,tablet:2,desktop:3},breakpoints:{tablet:768,desktop:1200},gap:{mobile:30,tablet:40},enableKeyboard:!0,enableTouch:!0,...e},this.slider=this.container.querySelector(this.options.sliderSelector),this.list=this.container.querySelector(this.options.listSelector),this.prevButton=this.container.querySelector(this.options.prevButtonSelector),this.nextButton=this.container.querySelector(this.options.nextButtonSelector),this.dotsContainer=this.container.querySelector(this.options.dotsContainerSelector),!(!this.slider||!this.list)&&(this.currentIndex=0,this.itemsPerPage=1,this.totalPages=0,this.totalItems=0,this.observer=new MutationObserver(()=>this.handleItemsChange()),this.init()))}init(){this.observer.observe(this.list,{childList:!0,subtree:!1}),this.updateItemsPerPage(),this.setupEventListeners()}updateItems(){this.items=Array.from(this.list.querySelectorAll(this.options.itemSelector)),this.totalItems=this.items.length}handleItemsChange(){let t=this.totalItems;this.updateItems(),t!==this.totalItems&&this.updateItemsPerPage()}getCurrentGap(){return window.innerWidth>=this.options.breakpoints.tablet?this.options.gap.tablet:this.options.gap.mobile}updateNavButtons(){if(!this.prevButton||!this.nextButton)return;let t=this.currentIndex===0,e=this.currentIndex>=this.totalPages-1;this.prevButton.disabled=t,this.nextButton.disabled=e,this.prevButton.style.opacity=t?"0.3":"1",this.nextButton.style.opacity=e?"0.3":"1",this.prevButton.style.cursor=t?"not-allowed":"pointer",this.nextButton.style.cursor=e?"not-allowed":"pointer"}updateDots(){if(!this.dotsContainer)return;this.dotsContainer.querySelectorAll(`.${this.options.dotClass}`).forEach((e,s)=>{e.classList.toggle(this.options.dotActiveClass,s===this.currentIndex)})}updateSlider(){if(this.items.length===0)return;let t=this.items[0].offsetWidth,e=this.getCurrentGap(),s=-(this.currentIndex*this.itemsPerPage*(t+e));this.list.style.transform=`translateX(${s}px)`,this.updateNavButtons(),this.updateDots()}createDots(){if(this.dotsContainer&&(this.dotsContainer.innerHTML="",!(this.totalPages<=1))){for(let t=0;t<this.totalPages;t++){let e=document.createElement("button");e.classList.add(this.options.dotClass),e.setAttribute("type","button"),e.setAttribute("aria-label",`\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u043A \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0435 ${t+1} \u0438\u0437 ${this.totalPages}`),e.addEventListener("click",()=>{this.currentIndex=t,this.updateSlider()}),this.dotsContainer.appendChild(e)}this.updateDots()}}updateItemsPerPage(){if(this.updateItems(),this.totalItems===0)return;let t=window.innerWidth;t<this.options.breakpoints.tablet?this.itemsPerPage=this.options.itemsPerPage.mobile:t<this.options.breakpoints.desktop?this.itemsPerPage=this.options.itemsPerPage.tablet:this.itemsPerPage=this.options.itemsPerPage.desktop,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.currentIndex>=this.totalPages&&(this.currentIndex=Math.max(0,this.totalPages-1)),this.createDots(),this.updateSlider()}nextSlide(){this.currentIndex<this.totalPages-1&&(this.currentIndex++,this.updateSlider())}prevSlide(){this.currentIndex>0&&(this.currentIndex--,this.updateSlider())}setupEventListeners(){if(this.nextButton&&this.nextButton.addEventListener("click",()=>this.nextSlide()),this.prevButton&&this.prevButton.addEventListener("click",()=>this.prevSlide()),this.options.enableTouch){let e=0,s=0,r=()=>{let n=e-s;Math.abs(n)>50&&(n>0?this.nextSlide():this.prevSlide())};this.slider.addEventListener("touchstart",i=>{e=i.changedTouches[0].screenX},{passive:!0}),this.slider.addEventListener("touchend",i=>{s=i.changedTouches[0].screenX,r()},{passive:!0})}this.options.enableKeyboard&&document.addEventListener("keydown",e=>{let s=this.slider.getBoundingClientRect();s.top<window.innerHeight&&s.bottom>0&&(e.key==="ArrowLeft"?(e.preventDefault(),this.prevSlide()):e.key==="ArrowRight"&&(e.preventDefault(),this.nextSlide()))});let t;window.addEventListener("resize",()=>{clearTimeout(t),t=setTimeout(()=>{this.updateItemsPerPage()},250)})}destroy(){this.observer&&this.observer.disconnect()}},a=o;new a(".projects",{itemsPerPage:{mobile:1,tablet:2,desktop:3},breakpoints:{tablet:768,desktop:1200},gap:{mobile:30,tablet:40},enableKeyboard:!0,enableTouch:!0});
