var t=document.querySelector(".gallery-modal"),n=document.querySelector(".projects__list"),v=document.querySelector(".equipment__list");if(t&&(n||v)){let s=t.querySelector(".gallery-modal__image"),u=t.querySelector(".gallery-modal__description"),y=t.querySelector(".gallery-modal__close"),g=t.querySelector(".gallery-modal__nav--prev"),p=t.querySelector(".gallery-modal__nav--next"),_=t.querySelector(".gallery-modal__current"),x=t.querySelector(".gallery-modal__total"),l=0,r=[],a=n||v,d=n?".projects__item":".equipment__item",L=n?".projects__image":".equipment__image",w=n?".projects__description":".equipment__text",k=()=>{let e=a.querySelectorAll(d);return Array.from(e).map((o,c)=>{let i=o.querySelector(L),h=o.querySelector(w),E=h?h.textContent:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442";return{src:i.src,alt:i.alt,description:E,index:c}})},C=e=>{let o=window.innerWidth-document.documentElement.clientWidth;document.body.style.paddingRight=`${o}px`,document.body.style.overflow="hidden";let c=document.querySelector(".scroll-up");if(c){let i=parseFloat(getComputedStyle(c).right);c.style.right=`${i+o}px`}s.src=e.src,s.alt=e.alt,u.textContent=e.description,_.textContent=e.index+1,t.classList.add("gallery-modal--active")},m=()=>{t.classList.remove("gallery-modal--active"),document.body.style.overflow="",document.body.style.paddingRight="";let e=document.querySelector(".scroll-up");e&&(e.style.right="")},q=e=>{e<0?l=r.length-1:e>=r.length?l=0:l=e;let o=r[l];s.src=o.src,s.alt=o.alt,u.textContent=o.description,_.textContent=l+1},S=()=>{q(l-1)},f=()=>{q(l+1)};a.addEventListener("click",e=>{let o=e.target.closest(d);o&&(e.preventDefault(),r=k(),x.textContent=r.length,l=Array.from(a.querySelectorAll(d)).indexOf(o),C(r[l]))}),y&&y.addEventListener("click",m),g&&g.addEventListener("click",S),p&&p.addEventListener("click",f),t.addEventListener("click",e=>{e.target===t&&m()}),document.addEventListener("keydown",e=>{if(t.classList.contains("gallery-modal--active"))switch(e.key){case"Escape":m();break;case"ArrowLeft":S();break;case"ArrowRight":f();break}})}
